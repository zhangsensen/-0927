# 性能指标与基准

## FactorEngine性能基准

### 因子计算速度
- **小规模数据集**: 831+ 因子/秒 (500样本×20因子)
- **中等规模数据集**: 864+ 因子/秒 (1000样本×50因子)
- **大规模数据集**: 686+ 因子/秒 (2000样本×100因子)
- **超大规模数据集**: 370+ 因子/秒 (5000样本×200因子)

### 内存使用优化
- **小规模**: < 0.5MB 内存占用
- **中等规模**: < 1MB 内存占用
- **大规模**: < 2MB 内存占用
- **优化策略**: 40-60% 内存使用减少

### VectorBT性能提升
- **向量化计算**: 相比传统pandas提升10-50倍
- **并行处理**: 支持多核CPU并行计算
- **内存效率**: 智能缓存和数据结构优化

## 5维筛选性能

### 完整筛选流程
- **处理速度**: 5.7 因子/秒 (80个因子完整分析)
- **主要瓶颈**: 滚动IC计算 (占总时间94.2%)
- **内存使用**: < 1MB (中等规模数据)

### 统计计算负载
- **IC分析**: 多期相关性计算 (1,3,5,10,20天)
- **稳定性测试**: 滚动窗口验证
- **独立性检测**: VIF多重共线性检测
- **实用性评估**: 交易成本和流动性分析

## 市场数据处理

### A股市场
- **数据源**: yfinance API
- **更新频率**: 日线数据
- **技术指标**: 154个全面覆盖
- **分析速度**: 实时计算响应

### 港股市场 (276+股票)
- **数据粒度**: 分钟级精度
- **历史数据**: 2025年3月-9月
- **重采样性能**: 批量处理多种时间框架
- **存储格式**: Parquet列式存储优化

### 美股市场 (172+股票)
- **多时间框架**: 1min到daily支持
- **数据处理**: 统一FactorEngine处理
- **回测性能**: VectorBT加速

## 系统性能优化

### 缓存策略
- **双层缓存**: 内存 + 磁盘持久化
- **TTL配置**: 环境特定缓存生存时间
- **命中率**: 智能缓存预加载
- **内存管理**: 可配置内存上限

### 并行计算
- **符号级并行**: 多股票同时处理
- **时间框架并行**: 多时间框架并行计算
- **因子并行**: 多因子并行计算
- **资源调度**: 可配置作业数量

### 数据压缩
- **Parquet格式**: 列式存储优化
- **压缩比**: 60-80% 存储空间节省
- **读取性能**: 随机访问优化
- **序列化**: 快速数据序列化/反序列化

## 性能监控

### 关键指标
- **计算延迟**: 因子计算响应时间
- **内存使用**: 实时内存占用监控
- **缓存效率**: 缓存命中率统计
- **吞吐量**: 每秒处理因子数量

### 质量保证
- **一致性验证**: 跨环境因子计算一致性
- **精度测试**: 数值精度和稳定性测试
- **回归测试**: 自动化性能回归检测
- **基准对比**: 与历史性能基准对比