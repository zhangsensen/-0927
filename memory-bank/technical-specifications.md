# 技术规格文档

## FactorEngine 统一因子计算引擎

### 核心架构
- **统一API**: 所有因子计算通过单一入口点确保一致性
- **双缓存机制**: 内存缓存 + 磁盘缓存提升性能
- **向量化计算**: 基于VectorBT实现10-50倍性能提升
- **多时间框架**: 支持1min到daily的8种时间框架

### 154个技术指标分类
1. **核心技术指标** (36个): RSI, MACD, STOCH, WILLR, CCI等
2. **重叠研究** (12个): SMA, EMA, Bollinger Bands, SAR等
3. **统计函数** (15个): 相关性, 回归, 线性插值等
4. **模式识别** (60+个): 基于TA-Lib的日本蜡烛图模式

### 性能基准
- 小规模 (500样本×20因子): 831+ 因子/秒
- 中规模 (1000样本×50因子): 864+ 因子/秒
- 大规模 (2000样本×100因子): 686+ 因子/秒
- 超大规模 (5000样本×200因子): 370+ 因子/秒

## 5维因子筛选框架

### 评估维度及权重
1. **预测能力** (35%): 多期IC分析 (1,3,5,10,20天)
2. **稳定性** (25%): 滚动窗口IC分析, 截面稳定性评估
3. **独立性** (20%): VIF检测, 因子相关性分析
4. **实用性** (15%): 交易成本评估, 换手率分析
5. **短期适应性** (5%): 反转效应检测, 动量持续性分析

### 质量等级标准
- **综合评分 ≥ 0.8**: 🥇 第1梯队 - 核心因子, 强烈推荐
- **综合评分 0.6-0.8**: 🥈 第2梯队 - 重要因子, 推荐
- **综合评分 0.4-0.6**: 🥉 第3梯队 - 备用因子, 谨慎使用
- **综合评分 < 0.4**: ❌ 不推荐使用

## 多市场支持

### A股市场
- 个股技术分析框架
- 基于yfinance的数据下载
- 154个技术指标全面分析

### 港股市场 (276+股票)
- 分钟级数据处理
- 批量重采样到高级时间框架
- VectorBT优化的回测性能

### 美股市场 (172+股票)
- 多时间框架数据支持
- 因子计算引擎统一处理

## 配置管理

### 环境特定配置
- **开发环境**: 200MB缓存, 2小时TTL, 单线程, 详细日志
- **研究环境**: 512MB缓存, 24小时TTL, 4核并行, 信息日志
- **生产环境**: 1GB缓存, 7天TTL, 全核并行, 警告日志

### 策略配置模板
- `long_term_config.yaml` - 长期投资策略
- `conservative_config.yaml` - 保守交易策略
- `high_frequency_config.yaml` - 高频交易策略
- `aggressive_config.yaml` - 激进交易策略