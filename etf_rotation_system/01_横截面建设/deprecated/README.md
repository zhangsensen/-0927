# 遗留代码说明

## 概述

本文件夹包含ETF因子面板重构项目中不再使用的遗留代码文件。

## 📁 文件列表

### `generate_panel.py`
- **类型**: 原始版本主程序
- **状态**: 已被 `generate_panel_refactored.py` 替代
- **特点**: 硬编码参数，不支持配置驱动
- **保留原因**: 作为对比和参考

### `generate_panel_original.py`
- **类型**: 原始程序备份
- **状态**: 自动生成的备份文件
- **特点**: 与 `generate_panel.py` 完全相同
- **保留原因**: 安全备份，防止意外丢失

## 🚀 新版本文件

### 当前使用的文件
- **`generate_panel_refactored.py`**: 配置驱动的主程序
- **`config/factor_panel_config.yaml`**: 完整配置文件
- **`config/config_classes.py`**: 类型安全的配置类

### 相关工具文件
- **`migrate_to_config.py`**: 迁移辅助工具
- **`test_equivalence.py`**: 功能等价性测试
- **`docs/configuration_guide.md`**: 详细配置指南

## 📊 重构对比

| 特性 | 原版本 | 重构版本 |
|------|--------|----------|
| 配置方式 | 硬编码 | 配置驱动 |
| 参数修改 | 需改代码 | 修改配置文件 |
| 因子控制 | 固定35个 | 24个独立开关 |
| 路径管理 | 相对路径 | 绝对路径 |
| 错误处理 | 基础 | 完善的验证机制 |
| 类型安全 | 无 | 有类型检查 |
| 文档 | 无 | 完整文档 |

## 🗑️ 使用建议

1. **不要直接使用**: 遗留代码仅用于参考和对比
2. **使用新版本**: 请使用 `generate_panel_refactored.py`
3. **配置管理**: 通过 `config/factor_panel_config.yaml` 调整参数
4. **性能对比**: 如需对比性能，可使用 `test_equivalence.py`

## 🔄 回滚方案

如需回滚到原始版本：

1. 备份当前配置文件
2. 将 `deprecated/generate_panel.py` 复制到项目根目录
3. 恢复原始依赖关系

**注意**: 不推荐回滚，重构版本功能更强大且可维护性更好。

## 📅 历史记录

- **2025-10-20**: 创建deprecated文件夹
- **2025-10-20**: 移动原始代码和备份文件
- **重构完成**: 配置驱动版本正式启用

## ⚠️ 注意事项

1. 遗留代码可能存在硬编码问题，不建议在生产环境使用
2. 重构版本已通过完整测试验证，功能更完善
3. 如需查看原始实现逻辑，可参考遗留代码
4. 建议定期清理不再需要的遗留文件

---

**维护者**: Claude Code
**更新时间**: 2025-10-20
**版本**: 1.0