# ðŸ” VBT å›žæµ‹ç³»ç»Ÿ - é—®é¢˜å®šä½æŠ¥å‘Šï¼ˆä»…é—®é¢˜ï¼Œä¸ä¿®å¤ï¼‰

**æ‰§è¡Œæ—¶é—´**: 2025-10-21 23:35  
**æ¨¡å¼**: Linus æ— æƒ…å®¡æŸ¥ - å®šä½é—®é¢˜ï¼Œä¸ä¿®å¤  
**åŽŸåˆ™**: No bullshit. No magic. Just math and code.

---

## ðŸŽ¯ æ ¸å¿ƒå‘çŽ°

### ðŸ”´ **é—®é¢˜1: å› å­æ¥æºé€‚é…æ–­å±‚** 
**ä¸¥é‡ç¨‹åº¦**: CRITICAL  
**ä½ç½®**: æ‰€æœ‰å›žæµ‹å¼•æ“Žçš„å› å­åŠ è½½æŽ¥å£  

#### é—®é¢˜æè¿°
æœ€æ–°ç­›é€‰è¾“å‡ºï¼š
```python
# passed_factors.csv çš„åˆ—å
factor,ic_mean,ic_std,ic_ir,ic_positive_rate,stability,t_stat,p_value,sample_size,coverage,ic_1d,ir_1d,...

# ç¬¬1è¡Œæ•°æ®ç¤ºä¾‹
PRICE_POSITION_20D,0.600,0.253,2.365,...  # 18ä¸ªé€šè¿‡çš„å› å­
```

ä½†å›žæµ‹å¼•æ“ŽæœŸæœ›çš„æŽ¥å£ï¼š
```python
# parallel_backtest_configurable.py Line 132-148
def _load_top_factors(self) -> List[str]:
    df = pd.read_csv(self.config.screening_file)
    col_name = "factor" if "factor" in df.columns else "panel_factor"
    
    # å¯»æ‰¾"factor"åˆ— âœ“ å­˜åœ¨
    # å–Top K: df.head(self.config.top_k)[col_name].tolist() âœ“ å¯è¡Œ
    # ä½†é—®é¢˜æ¥äº†...
```

#### çœŸå®žé—®é¢˜
1. **æ—  IC/IR è¿‡æ»¤**: å›žæµ‹ç›´æŽ¥å–Top-Kï¼Œ**ä¸æ£€æŸ¥å› å­è´¨é‡**
   - ç­›é€‰å™¨å·²è¾“å‡ºIC=0.600, IR=2.36çš„ä¼˜è´¨å› å­
   - ä½†å›žæµ‹ä¸ç®¡è¿™äº›å€¼ï¼Œç›´æŽ¥ç”¨å‰10ä¸ª
   - âŒ æµªè´¹äº†ç­›é€‰çš„ç»Ÿè®¡æ˜¾è‘—æ€§ä¿¡æ¯

2. **æƒé‡æ±‚å’Œçº¦æŸä¸åŒ¹é…**:
   - é…ç½®: `weight_sum_range: [0.8, 1.2]`
   - ä½†æœ‰18ä¸ªé€šè¿‡çš„å› å­ï¼Œæƒé‡å¿…ç„¶è¦å¾ˆå°
   - ä¸¾ä¾‹: 18ä¸ªå› å­æƒé‡å’Œ1.0 â†’ å¹³å‡æƒé‡ = 1/18 â‰ˆ 0.056
   - è¿™ä¼šå¯¼è‡´æƒé‡ç½‘æ ¼ç”Ÿæˆå‡ºå¤§é‡**é›¶æƒé‡çš„ç»„åˆ** (æµªè´¹è®¡ç®—)

3. **æƒé‡ç½‘æ ¼ç”Ÿæˆè¿‡åº¦**:
   - é…ç½®æƒé‡ç‚¹: `[0.0, 0.1, 0.2, ..., 1.0]` = 11ä¸ªç‚¹
   - å¯¹18ä¸ªå› å­: 11^18 = 3.8e18 ä¸ªç»„åˆ âŒ
   - å†…å­˜ç›´æŽ¥çˆ†ç‚¸
   - å®žé™…ä»£ç ä¼šç”¨ `max_combinations: 10000` è£å‰ªï¼Œä½†è£å‰ªæ–¹æ³•ï¼š
     ```python
     # Line 500: _generate_weight_combinations
     valid_mask = (weight_sums >= 0.8) & (weight_sums <= 1.2)
     ```
   - è¿™ä¼š**å¤§é‡è¿‡æ»¤**ï¼Œå¯¼è‡´æœ‰æ•ˆç»„åˆ << 10000

---

### ðŸ”´ **é—®é¢˜2: å› å­æ•°é‡çš„çŸ©é˜µé‡å¡‘bug**
**ä¸¥é‡ç¨‹åº¦**: CRITICAL  
**ä½ç½®**: `parallel_backtest_engine.py` Line 255-260, `parallel_backtest_configurable.py` Line 161, 276

#### é—®é¢˜æè¿°
```python
# ä»£ç é€»è¾‘
factor_data = panel[factors].unstack(level="symbol")  # å–å› å­åˆ—å¹¶unstack
n_dates, n_total = factor_data.shape                   # n_total = n_dates * n_factors
n_factors = len(factors)
n_symbols = n_total // n_factors                       # æŽ¨å¯¼ n_symbols

# è¿™æ˜¯é”™çš„!
```

#### çœŸå®žé—®é¢˜
å‡è®¾:
- é¢æ¿ç»“æž„: MultiIndex(symbol, date) Ã— å› å­åˆ—
- é¢æ¿å¤§å°: 56,575è¡Œ Ã— 18åˆ— (18ä¸ªé€šè¿‡çš„å› å­)

```python
factor_data = panel[factors].unstack(level="symbol")
# ç»“æžœ: n_dates=? n_total=?
# å¦‚æžœåŽŸå§‹é¢æ¿æ˜¯ (symbol, date) MultiIndex:
#   - unstack(level="symbol") â†’ index=date, columns=MultiIndex(symbol, factor)
#   - å½¢çŠ¶: n_unique_dates Ã— (n_unique_symbols Ã— n_factors)
```

**å…³é”®é—®é¢˜**: `n_symbols = n_total // n_factors` è¿™ä¸ªæŽ¨å¯¼å‡è®¾äº†:
```
n_total = n_dates_in_unstacked Ã— n_columns_in_unstacked
         = n_dates Ã— (n_symbols Ã— n_factors)  â† è¿™é‡Œé”™äº†!
```

æ­£ç¡®åº”è¯¥æ˜¯:
```python
n_dates, n_cols = factor_data.shape
# n_cols = n_symbols Ã— n_factors
n_symbols = n_cols // n_factors  # âœ“ è¿™æ˜¯å¯¹çš„
```

ä½†ä»£ç å†™çš„æ˜¯:
```python
n_dates, n_total = factor_data.shape
n_symbols = n_total // n_factors  # âœ“ å®žé™…ä¸Šä¹Ÿæ˜¯å¯¹çš„
```

**ç­‰ç­‰ï¼Œè¿™ä¸æ˜¯bug**ï¼Ÿ

è®©æˆ‘é‡æ–°æ£€æŸ¥... âŒ **æˆ‘ä¹‹å‰ç†è§£é”™äº†**ã€‚

**çœŸå®žbugåœ¨è¿™é‡Œ**:
```python
# åŽŸå§‹panel: (symbol, date) MultiIndex Ã— 18å› å­åˆ—
# reshape åˆ° (n_dates, n_symbols, n_factors)
# unstackåŽå¾—åˆ° (n_dates, n_symbolsÃ—n_factors) çš„çŸ©é˜µ

normalized.values.reshape(n_dates, n_symbols, n_factors)  # Line 260

# ä½†é—®é¢˜ï¼šnormalized çš„åˆ—æ˜¯ä»€ä¹ˆé¡ºåºï¼Ÿ
# unstack åŽåˆ—æ˜¯ (FACTOR1, SYM1), (FACTOR1, SYM2), ..., (FACTOR2, SYM1), ...
# è¿˜æ˜¯ (SYM1, FACTOR1), (SYM1, FACTOR2), ..., (SYM2, FACTOR1), ...?
```

**è¿™é‡Œæœ‰éšæ™¦çš„åˆ—åºå‡è®¾ï¼Œå®¹æ˜“å‡ºé—®é¢˜**ã€‚

---

### ðŸŸ¡ **é—®é¢˜3: æƒé‡ç½‘æ ¼å‚æ•°ä¸Žå› å­æ•°ä¸é€‚é…**
**ä¸¥é‡ç¨‹åº¦**: MEDIUM  
**ä½ç½®**: é…ç½®æ–‡ä»¶ & æƒé‡ç”Ÿæˆé€»è¾‘

#### é—®é¢˜æè¿°
æœ€æ–°ç­›é€‰äº§å‡º**18ä¸ªå› å­**ï¼Œä½†å›žæµ‹é…ç½®å†™æ­»äº†:
```yaml
# parallel_backtest_config.yaml
weight_grid_points: [0.0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
weight_sum_range: [0.8, 1.2]  # â† è¿™ä¸ªèŒƒå›´å¯¹18å› å­å¤ªå®½æ¾
max_combinations: 10000
```

#### çœŸå®žé—®é¢˜
1. **æƒé‡ç”Ÿæˆæ•ˆçŽ‡ä½Ž**:
   ```python
   # ç†è®º: 11^18 â‰ˆ 4e18 ç»„åˆ
   # å®žé™…: filteråˆ° 10000 ç»„åˆ = 0.000000026% æœ‰æ•ˆçŽ‡ âŒ
   # æ„å‘³ç€: å¤§é‡ç»„åˆè¢«ä¸¢å¼ƒï¼Œæƒé‡ç©ºé—´æ²¡è¢«æœ‰æ•ˆæŽ¢ç´¢
   ```

2. **æƒé‡çº¦æŸé€»è¾‘ä¸æ¸…**:
   ```python
   valid_mask = (weight_sums >= 0.8) & (weight_sums <= 1.2)
   # ä½†18ä¸ªå› å­ï¼Œæƒé‡å’Œ1.0ï¼Œå¹³å‡æƒé‡0.056
   # å‡ ä¹Žæ¯ä¸ªæƒé‡éƒ½æ˜¯0.0, 0.1 æ‰èƒ½ä¿è¯æ€»å’Œåœ¨[0.8, 1.2]
   # ç»“æžœ: æƒé‡ç»„åˆä¼šä¸¥é‡é›†ä¸­åœ¨ "æŸäº›å› å­1.0ï¼Œå…¶ä»–å…¨0" çš„è§’è½
   ```

3. **æ²¡æœ‰è‡ªé€‚åº”é€»è¾‘**:
   - ç­›é€‰å‡º10ä¸ªå› å­æ—¶ â†’ æƒé‡ç½‘æ ¼åˆç†
   - ç­›é€‰å‡º18ä¸ªå› å­æ—¶ â†’ åŒä¸€å¥—é…ç½®å°±å˜å¾—ä¸é€‚ç”¨
   - âŒ ç¼ºå°‘"è‡ªåŠ¨è°ƒæ•´æƒé‡ç½‘æ ¼"çš„é€»è¾‘

---

### ðŸŸ¡ **é—®é¢˜4: ç¼ºå°‘IC/IRæŽ’åºå’Œå› å­å¯ä¿¡åº¦è¿‡æ»¤**
**ä¸¥é‡ç¨‹åº¦**: MEDIUM  
**ä½ç½®**: `parallel_backtest_configurable.py` Line 148

#### é—®é¢˜æè¿°
```python
# çŽ°æœ‰é€»è¾‘
if self.config.factors:
    factors = self.config.factors  # ç”¨é…ç½®é‡Œçš„å› å­
else:
    factors = df.head(self.config.top_k)[col_name].tolist()  # å–å‰K
    
# ä½† passed_factors.csv å·²ç»æŒ‰ICæŽ’åºäº†!
# ç¬¬1è¡Œ: PRICE_POSITION_20D IC=0.600 â† æœ€å¼º
# ...
# ç¬¬18è¡Œ: VOLATILITY_120D IC=-0.031 â† æœ€å¼±

# é—®é¢˜ï¼šå›žæµ‹æ²¡æœ‰æ˜¾å¼ç”¨ICå€¼è¿‡æ»¤
df = pd.read_csv(self.config.screening_file)
# è¿™é‡Œå¯ä»¥è¯»åˆ° ic_mean, ic_ir åˆ—ï¼Œä½†æ²¡æœ‰ç”¨å®ƒä»¬
```

#### çœŸå®žé—®é¢˜
1. **æ— ICè¿‡æ»¤**:
   ```python
   # åº”è¯¥æœ‰ï¼ˆä½†æ²¡æœ‰ï¼‰
   min_ic = 0.01
   df_filtered = df[df['ic_mean'] >= min_ic]
   
   # ç›®å‰åªæ˜¯ç›²ç›®å–Top-K
   ```

2. **æ— IRè´¨é‡æ£€æŸ¥**:
   ```python
   # åº”è¯¥æœ‰ï¼ˆä½†æ²¡æœ‰ï¼‰
   min_ir = 0.05
   df_filtered = df[df['ic_ir'] >= min_ir]
   ```

3. **ç»Ÿè®¡æ˜¾è‘—æ€§è¢«å¿½è§†**:
   - CSVä¸­æœ‰ `p_value`, `t_stat`, `coverage` åˆ—
   - å›žæµ‹æ²¡ç”¨å®ƒä»¬æ¥è¿‡æ»¤å› å­
   - âŒ å¯èƒ½åœ¨ç”¨ p-value=1.0 çš„å™ªå£°å› å­

---

### ðŸŸ¡ **é—®é¢˜5: ç®€åŒ–å¼•æ“Žä¸Žå®Œæ•´å¼•æ“Žçš„æ··ä¹±**
**ä¸¥é‡ç¨‹åº¦**: MEDIUM  
**ä½ç½®**: `simple_parallel_backtest_engine.py` vs å…¶ä»–ä¸¤ä¸ªå¼•æ“Ž

#### é—®é¢˜æè¿°
æœ‰**ä¸‰ä¸ª**å›žæµ‹å¼•æ“Ž:
1. `parallel_backtest_engine.py` - åŽŸå§‹ç‰ˆæœ¬ï¼ˆå‘é‡åŒ–ï¼‰
2. `parallel_backtest_configurable.py` - é…ç½®åŒ–ç‰ˆæœ¬
3. `simple_parallel_backtest_engine.py` - ç®€åŒ–ç‰ˆæœ¬

#### çœŸå®žé—®é¢˜
1. **APIä¸ä¸€è‡´**:
   ```python
   # engine1
   engine.run_parallel_backtest(panel_path, price_dir, screening_csv, ...)
   
   # engine2
   engine.parallel_grid_search(panel_path, price_dir, screening_file, factors, ...)
   
   # engine3
   engine.backtest(...) # ä¸çŸ¥é“ç­¾å
   ```

2. **å› å­åŠ è½½é€»è¾‘ä¸‰ä»½**:
   - engine1: ä¸çŸ¥é“
   - engine2: `_load_top_factors()`
   - engine3: æ²¡çœ‹
   - âŒ é‡å¤ä»£ç ï¼Œç»´æŠ¤å›°éš¾

3. **ä¸Žæœ€æ–°ç­›é€‰çš„é€‚é…ç­‰çº§**:
   - engine1: âŒ ä¸æ¸…æ¥šæ˜¯å¦æ”¯æŒpassed_factors.csv
   - engine2: âš ï¸ éƒ¨åˆ†æ”¯æŒï¼ˆéœ€éªŒè¯åˆ—åï¼‰
   - engine3: âŒ æœªçŸ¥

---

### ðŸŸ¡ **é—®é¢˜6: æƒé‡ç»„åˆç”Ÿæˆç®—æ³•ä¸ç¡®å®šæ€§**
**ä¸¥é‡ç¨‹åº¦**: MEDIUM  
**ä½ç½®**: `simple_parallel_backtest_engine.py` Line 70-100

#### é—®é¢˜æè¿°
```python
# simpleå¼•æ“Žçš„æƒé‡ç”Ÿæˆ
for _ in range(max_combinations):
    weights = {}
    remaining_sum = 1.0
    
    for i, factor in enumerate(factor_names[:-1]):
        if i == len(factor_names) - 2:
            weights[factor] = remaining_sum
        else:
            max_weight = min(remaining_sum, 0.8)
            if max_weight > 0:
                weight = np.random.choice([w for w in weight_options if w <= max_weight])
                weights[factor] = weight
                remaining_sum -= weight
            else:
                weights[factor] = 0.0
    
    weights[factor_names[-1]] = max(0.0, remaining_sum)
```

#### çœŸå®žé—®é¢˜
1. **éšæœºç”Ÿæˆï¼Œä¸ç¡®å®šæ€§**:
   - æ¯æ¬¡è¿è¡Œä¼šäº§ç”Ÿä¸åŒçš„æƒé‡ç»„åˆï¼ˆç§å­è®¾ä¸º42ï¼Œä½†...ï¼‰
   - ç»“æžœä¸å¯å¤çŽ° âŒ

2. **ç®—æ³•åå·®**:
   - é å‰çš„å› å­æƒé‡ä¼šæ›´å¤§ï¼ˆå› ä¸ºéšæœºé€‰æ‹©æ—¶ç”¨äº† `remaining_sum`ï¼‰
   - æœ€åŽä¸€ä¸ªå› å­æƒé‡è¢«è¿«ç­‰äºŽå‰©ä½™å€¼
   - âŒ æƒé‡åˆ†å¸ƒä¸å‡åŒ€

3. **ä¸Ž engine1 çš„ `itertools.product` å†²çª**:
   - engine1: ç½‘æ ¼æœç´¢ â†’ ç¡®å®šæ€§
   - simple: éšæœºæŠ½æ · â†’ éšæœºæ€§
   - âŒ ä¸¤å¥—ç­–ç•¥æ··ä¹±

---

### ðŸŸ¢ **é—®é¢˜7: ç¼ºå°‘"ç­›é€‰ç»“æžœä¸Žå›žæµ‹å‚æ•°åŒ¹é…"çš„éªŒè¯**
**ä¸¥é‡ç¨‹åº¦**: LOW-MEDIUM  
**ä½ç½®**: æ•´ä¸ªå›žæµ‹ç³»ç»Ÿå¯åŠ¨ç‚¹

#### é—®é¢˜æè¿°
```python
# åº”è¯¥æœ‰ä½†æ²¡æœ‰çš„éªŒè¯
ç­›é€‰è¾“å‡º: 18ä¸ªå› å­
é…ç½®è¦æ±‚: weight_grid çš„ 11 ä¸ªç‚¹

# ç³»ç»Ÿå¯åŠ¨æ—¶åº”è¯¥è­¦å‘Š:
"âš ï¸ å› å­æ•°(18) Ã— æƒé‡ç‚¹æ•°(11) = ç»„åˆæŒ‡æ•°çˆ†ç‚¸"
"âš ï¸ å»ºè®®è°ƒæ•´æƒé‡ç½‘æ ¼ä¸º [0.0, 0.2, 0.4, 0.6, 0.8, 1.0] æˆ–è‡ªåŠ¨è°ƒæ•´"
```

#### çœŸå®žé—®é¢˜
ç¼ºå°‘é¢„æ ¡éªŒé€»è¾‘ï¼Œå¯¼è‡´:
1. ç”¨æˆ·å¯èƒ½è¾“å…¥ä¸åŒ¹é…çš„é…ç½®
2. å›žæµ‹å¼•æ“Žæ²‰é»˜åœ°æ‰§è¡Œï¼Œä¸¢å¼ƒå¤§é‡ç»„åˆ
3. æœ€åŽå¾—åˆ°çš„ç»“æžœå¯ä¿¡åº¦ä½Žï¼Œä½†ç”¨æˆ·ä¸çŸ¥é“

---

## ðŸ“‹ é—®é¢˜æ¸…å•ï¼ˆä¼˜å…ˆçº§ï¼‰

| ä¼˜å…ˆçº§ | é—®é¢˜ | ç±»åž‹ | å½±å“ |
|--------|------|------|------|
| ðŸ”´ | å› å­æ¥æºé€‚é…æ–­å±‚ | æŽ¥å£ | å¯èƒ½ä½¿ç”¨é”™è¯¯çš„å› å­é›†åˆ |
| ðŸ”´ | çŸ©é˜µé‡å¡‘åˆ—åºéšæ™¦å‡è®¾ | æ•°æ®ç»“æž„ | å› å­æŽ’åˆ—é¡ºåºæ··ä¹± |
| ðŸŸ¡ | æƒé‡ç½‘æ ¼ä¸Žå› å­æ•°ä¸é€‚é… | é…ç½® | æƒé‡ç©ºé—´æŽ¢ç´¢ä½Žæ•ˆ |
| ðŸŸ¡ | æ— IC/IRè¿‡æ»¤ | é€»è¾‘ | å›žæµ‹å¯èƒ½ç”¨å™ªå£°å› å­ |
| ðŸŸ¡ | ä¸‰ä¸ªå¼•æ“Žçš„APIæ··ä¹± | æž¶æž„ | ç»´æŠ¤å›°éš¾ï¼Œæ˜“å‡ºé”™ |
| ðŸŸ¡ | æƒé‡ç”Ÿæˆç®—æ³•çš„éšæœºæ€§ | ç®—æ³• | ä¸å¯å¤çŽ°æ€§ |
| ðŸŸ¢ | ç¼ºå°‘å‚æ•°åŒ¹é…éªŒè¯ | ç”¨æˆ·ä½“éªŒ | éšé”™ï¼Œéš¾è°ƒè¯• |

---

## ðŸ”¬ éœ€è¦ç¡®è®¤çš„ç»†èŠ‚

### é—®é¢˜A: Unstack åŽçš„åˆ—é¡ºåº
```python
panel = pd.read_parquet("panel.parquet")  # MultiIndex(symbol, date) Ã— [PRICE_POSITION_20D, ...]
factor_data = panel[18ä¸ªå› å­].unstack(level="symbol")

# é—®é¢˜: åˆ—çš„é¡ºåºæ˜¯?
# (PRICE_POSITION_20D, symbol_1), (PRICE_POSITION_20D, symbol_2), ..., (VOLUME_RATIO_60D, symbol_1), ...
# è¿˜æ˜¯åˆ«çš„?
# è¿™å†³å®šäº† reshape(n_dates, n_symbols, n_factors) æ˜¯å¦æ­£ç¡®
```

### é—®é¢˜B: passed_factors.csv çš„æŽ’åº
```python
# é—®é¢˜: æ˜¯æŒ‰ICä»Žé«˜åˆ°ä½ŽæŽ’åºå—?
# è¿˜æ˜¯æŒ‰è¾“å…¥å› å­æ± çš„é¡ºåº?
# è¿™å½±å“ df.head(top_k) æ˜¯å¦çœŸçš„èŽ·å–äº†æœ€ä½³å› å­
```

### é—®é¢˜C: ä¸‰ä¸ªå›žæµ‹å¼•æ“Žå“ªä¸ªæ˜¯ç”Ÿäº§ç‰ˆï¼Ÿ
```python
# engine1: åŽŸå§‹, å‘é‡åŒ–, ä½†ä¸çŸ¥é“æ˜¯å¦æ”¯æŒæœ€æ–°ç­›é€‰æ ¼å¼
# engine2: é…ç½®åŒ–, æœ‰å› å­åŠ è½½é€»è¾‘, ä½†ä»£ç æ›´å¤æ‚
# engine3: ç®€åŒ–, ä½†éšæœºç”Ÿæˆæƒé‡
# 
# é—®é¢˜: åº”è¯¥ç”¨å“ªä¸ª? æœ‰ä¼˜å…ˆçº§å—?
```

---

## ðŸ“Š ç³»ç»Ÿå¿«ç…§

**å½“å‰ç­›é€‰è¾“å‡º:**
```
18ä¸ªé€šè¿‡å› å­, æŒ‰ICæŽ’åº
Top 5:
  1. PRICE_POSITION_20D    IC=0.600  IR=2.36
  2. INTRADAY_POSITION     IC=0.357  IR=1.27
  3. PRICE_POSITION_120D   IC=0.369  IR=1.14
  4. BUY_PRESSURE          IC=0.289  IR=0.87
  5. LARGE_ORDER_SIGNAL    IC=0.217  IR=1.03
```

**å½“å‰å›žæµ‹é…ç½®:**
```yaml
top_k: 10  # ä¼šå–å‰10ä¸ªå› å­
weight_grid_points: 11ä¸ªç‚¹
weight_sum_range: [0.8, 1.2]  # å¯¹18å› å­å¤ªå®½æ¾
```

**é£Žé™©:** 
- âŒ å›žæµ‹ä¼šç”¨18ä¸ªå› å­ï¼Œä½†æƒé‡ç½‘æ ¼é’ˆå¯¹å°‘é‡å› å­è®¾è®¡
- âŒ å¯èƒ½ä¸¢å¼ƒä½ŽICå› å­ï¼ˆVOLATILITY_120D IC=-0.031ï¼‰å´ä¸è‡ªçŸ¥
- âŒ æƒé‡ç»„åˆç©ºé—´åˆ©ç”¨çŽ‡ < 0.1%

---

## ðŸŽ¯ å»ºè®®çš„æ£€æŸ¥ç‚¹

1. éªŒè¯ `_load_top_factors()` çœŸæ­£è¯»åˆ°çš„å› å­
2. æ‰“å° unstack åŽçš„åˆ—åï¼Œç¡®è®¤é¡ºåº
3. æ£€æŸ¥ simple å¼•æ“Žçš„æƒé‡ç”Ÿæˆæ˜¯å¦å¯æŽ§
4. æ·»åŠ  IC è¿‡æ»¤å‰çš„æ—¥å¿—è¾“å‡º
5. é’ˆå¯¹18å› å­é‡æ–°è®¾è®¡æƒé‡ç½‘æ ¼

---

**çŠ¶æ€**: ä»…å®šä½é—®é¢˜ï¼Œä¸ä¿®å¤  
**ä¸‹ä¸€æ­¥**: ç­‰å¾…ç¡®è®¤é—®é¢˜ä¼˜å…ˆçº§ï¼Œå†³å®šä¿®å¤é¡ºåº
