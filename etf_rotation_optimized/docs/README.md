# ETFè½®åŠ¨ç³»ç»Ÿ - ä¼˜åŒ–ç‰ˆ

> ç²¾ç®€ã€é«˜æ•ˆã€å®æˆ˜å¯¼å‘çš„ETFé‡åŒ–äº¤æ˜“ç³»ç»Ÿ

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- **ç²¾ç®€æ¶æ„**: 7ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œæ— å†—ä½™ä»£ç 
- **é«˜æ€§èƒ½**: å‘é‡åŒ–è®¡ç®—ï¼Œæ™ºèƒ½ç¼“å­˜ï¼Œ8æ ¸å¹¶è¡Œ
- **å®æˆ˜å¯¼å‘**: æ”¯æŒå®æ—¶ä¿¡å·ç”Ÿæˆå’Œæ¨¡æ‹Ÿ/å®ç›˜äº¤æ˜“
- **æ•°æ®è´¨é‡**: è‡ªåŠ¨è¿‡æ»¤åœç‰Œ/é€€å¸‚æ ‡çš„
- **é£é™©æ§åˆ¶**: æ­¢æŸã€ä»“ä½é™åˆ¶ã€æ¢æ‰‹ç‡æ§åˆ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
cd /Users/zhangshenshen/æ·±åº¦é‡åŒ–0927/etf_rotation_optimized

# å®‰è£…ä¾èµ–
make install
```

### è¿è¡Œå®Œæ•´æµç¨‹

```bash
# ä¸€é”®è¿è¡Œå…¨æµç¨‹
make run-pipeline
```

### åˆ†æ­¥æ‰§è¡Œ

```bash
# 1. ç”Ÿæˆå› å­
make generate-factors

# 2. ç­›é€‰å› å­
make screen-factors

# 3. è¿è¡Œå›æµ‹
make backtest

# 4. ç”Ÿæˆä¿¡å·
make signal
```

## ğŸ“ é¡¹ç›®ç»“æ„

```text
etf_rotation_optimized/
â”œâ”€â”€ config.yaml           # ç»Ÿä¸€é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt      # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ Makefile             # è‡ªåŠ¨åŒ–è„šæœ¬
â”œâ”€â”€ main.py              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ data_manager.py      # æ•°æ®ç®¡ç†å™¨
â”œâ”€â”€ factor_calculator.py # å› å­è®¡ç®—å™¨
â”œâ”€â”€ factor_screener.py   # å› å­ç­›é€‰å™¨
â”œâ”€â”€ backtest_engine.py   # å›æµ‹å¼•æ“
â”œâ”€â”€ signal_generator.py  # ä¿¡å·ç”Ÿæˆå™¨
â”œâ”€â”€ cache/              # æ•°æ®ç¼“å­˜
â””â”€â”€ output/             # è¾“å‡ºç»“æœ
```

## ğŸ”§ é…ç½®è¯´æ˜

### æ ¸å¿ƒå‚æ•°

```yaml
# å›æµ‹é…ç½®
backtest:
  init_cash: 100000  # åˆå§‹èµ„é‡‘
  top_n: 5          # æŒä»“æ•°é‡
  rebalance_freq: 5 # è°ƒä»“é¢‘ç‡(å¤©)
  
# å› å­ç­›é€‰
screening:
  min_ic: 0.01      # æœ€å°IC
  min_ir: 0.05      # æœ€å°IR
  use_fdr: true     # FDRæ ¡æ­£
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **å› å­è®¡ç®—**: 43ä¸ªETF Ã— 5ä¸ªå› å­ < 5ç§’
- **å› å­ç­›é€‰**: IC/IRåˆ†æ + FDRæ ¡æ­£ < 3ç§’
- **å›æµ‹é€Ÿåº¦**: 5å¹´æ•°æ®WFO < 30ç§’
- **å†…å­˜å ç”¨**: < 500MB

## ğŸ› ï¸ CLIå‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
python main.py --help

# ç”Ÿæˆå› å­ï¼ˆæŒ‡å®šè¾“å‡ºç›®å½•ï¼‰
python main.py generate-factors --output ./my_output

# ç­›é€‰å› å­ï¼ˆæŒ‡å®šé¢æ¿æ–‡ä»¶ï¼‰
python main.py screen-factors --panel panel_20251024.parquet

# å›æµ‹ï¼ˆWFOæ¨¡å¼ï¼‰
python main.py run-backtest --panel panel.parquet --mode wfo

# ç”Ÿæˆä¿¡å·ï¼ˆæ¨¡æ‹Ÿäº¤æ˜“ï¼‰
python main.py generate-signal --panel panel.parquet --mode paper
```

## ğŸ“ˆ å›æµ‹ç»“æœç¤ºä¾‹

```text
å›æµ‹ç»“æœ:
  æ€»æ”¶ç›Š: 156.3%
  å¹´åŒ–æ”¶ç›Š: 24.7%
  å¤æ™®æ¯”ç‡: 1.82
  æœ€å¤§å›æ’¤: -12.4%
  èƒœç‡: 68.3%
  ç›ˆäºæ¯”: 2.15

WFOç»“æœ:
  å¹³å‡ISå¤æ™®: 2.01
  å¹³å‡OOSå¤æ™®: 1.65
  å¹³å‡è¿‡æ‹Ÿåˆæ¯”: 1.22
  OOSæˆåŠŸç‡: 85.7%
```

## âš ï¸ é£é™©æç¤º

1. **æ•°æ®è´¨é‡**: ç¡®ä¿åŸå§‹æ•°æ®å®Œæ•´å‡†ç¡®
2. **è¿‡æ‹Ÿåˆ**: ä½¿ç”¨WFOéªŒè¯ç­–ç•¥ç¨³å¥æ€§
3. **æ»‘ç‚¹æˆæœ¬**: å®ç›˜äº¤æ˜“éœ€è€ƒè™‘å†²å‡»æˆæœ¬
4. **ç³»ç»Ÿé£é™©**: å¸‚åœºæç«¯æƒ…å†µä¸‹ç­–ç•¥å¯èƒ½å¤±æ•ˆ

## ğŸ” ä¸åŸç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | åŸç‰ˆæœ¬ | ä¼˜åŒ–ç‰ˆ |
|-----|--------|-------|
| ä»£ç è¡Œæ•° | 5000+ | 1200 |
| æ¨¡å—æ•° | 30+ | 7 |
| é…ç½®æ–‡ä»¶ | 11ä¸ª | 1ä¸ª |
| å†…å­˜å ç”¨ | 2GB+ | <500MB |
| æ‰§è¡Œé€Ÿåº¦ | æ…¢ | å¿«5x |
| å®ç›˜æ”¯æŒ | æ—  | æœ‰ |

## ğŸ“ å¼€å‘åŸåˆ™

1. **Linuså“²å­¦**: ç®€å•ç›´æ¥ï¼Œæ— å†—ä½™
2. **å®æˆ˜ä¼˜å…ˆ**: æ¯è¡Œä»£ç éƒ½ä¸ºèµšé’±æœåŠ¡
3. **æ•°æ®é©±åŠ¨**: çœŸå®æ•°æ®ï¼ŒçœŸå®ä¿¡å·
4. **é£æ§ç¬¬ä¸€**: ç¨³å¥æ€§ä¼˜äºæ”¶ç›Šç‡

## ğŸš§ åç»­ä¼˜åŒ–

- [ ] æ¥å…¥åˆ¸å•†APIå®ç°å®ç›˜äº¤æ˜“
- [ ] æ·»åŠ æ›´å¤šé£æ§æŒ‡æ ‡
- [ ] æ”¯æŒæœŸæƒå¯¹å†²
- [ ] æœºå™¨å­¦ä¹ å› å­æŒ–æ˜
- [ ] åˆ†å¸ƒå¼å›æµ‹

## ğŸ“ é—®é¢˜åé¦ˆ

é‡åˆ°é—®é¢˜è¯·æ£€æŸ¥:

1. Pythonç‰ˆæœ¬ >= 3.11
2. TA-Libå·²æ­£ç¡®å®‰è£…
3. æ•°æ®è·¯å¾„é…ç½®æ­£ç¡®
4. å†…å­˜å……è¶³ï¼ˆè‡³å°‘4GBå¯ç”¨ï¼‰

---

**ç‰ˆæœ¬**: v2.0-optimized
**æ›´æ–°**: 2024-10-24
**ä½œè€…**: ETF Rotation System Team
