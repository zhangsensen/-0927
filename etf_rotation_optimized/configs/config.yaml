# ============================================================================
# 🚨 DEPRECATED - 此文件仅作存档,实际配置在 configs/experiments/*.yaml
# ============================================================================
# 当前系统使用:
#   - configs/experiments/*.yaml (实验配置)
#   - configs/FACTOR_SELECTION_CONSTRAINTS.yaml (因子选择约束)
#   - core/precise_factor_library_v2.py (因子定义)
# 
# 此文件保留仅为向后兼容,请勿修改!
# ============================================================================

# 数据路径
data:
  raw_dir: ../raw/ETF/daily  # 原始数据目录
  cache_dir: ./cache  # 缓存目录
  output_dir: ./output  # 输出目录

# ============================================================================
# ⚠️ 因子配置已迁移至 core/precise_factor_library_v2.py
# ============================================================================
# 当前生产的因子(参考):
#   趋势/动量: MOM_20D, SLOPE_20D, TSMOM_60D, TSMOM_120D
#   价格位置: PRICE_POSITION_20D, PRICE_POSITION_120D
#   波动/风险: RET_VOL_20D, MAX_DD_60D
#   量能: VOL_RATIO_20D, VOL_RATIO_60D
#   资金流: OBV_SLOPE_10D, CMF_20D
#   风险调整: SHARPE_RATIO_20D, CALMAR_RATIO_60D
#   反转: RSI_14
# ============================================================================

# ============================================================================
# 回测/WFO 配置 (已迁移至实验配置)
# ============================================================================
backtest:
  init_cash: 100000
  top_n: 5
  rebalance_freq: 5
  commission: 0.0005  # 5bp (与 compute_wfo_backtest_metrics.py 保持一致)
  slippage: 0.001
  max_position: 0.3
  stop_loss: -0.08

wfo:
  train_months: 12
  test_months: 3
  step_months: 3
  min_sharpe: 0.5

# ============================================================================
# 性能配置 (合并重复块)
# ============================================================================
performance:
  n_jobs: 8  # M4 留 4 核给系统
  chunk_size: 100
  use_cache: true
  memory_limit: 1000  # MB
  enable_monitoring: true
  
# ============================================================================
# 风控/告警/验证配置 (保留向后兼容)
# ============================================================================
risk_limits:
  max_drawdown: 0.15
  max_concentration: 0.3
  max_turnover: 1.0
  min_sharpe: 0.5
  max_correlation: 0.8

alerts:
  enabled: true
  methods: [log]  # 简化为仅日志告警

data_validation:
  strict_mode: false
  check_trading_days: true
  check_price_logic: true
  check_volume_anomalies: true
  missing_data_threshold: 0.05
  extreme_change_threshold: 0.2

