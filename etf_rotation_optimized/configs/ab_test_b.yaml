# ============================================================================
# ETF轮动系统 - A/B测试 B方案配置
# ============================================================================
# 用途: 8因子 + 1500采样 vs A方案(5因子 + 500采样)
# 创建日期: 2025-10-29
# ============================================================================

run_id: "ETF_ROTATION_AB_TEST_B"

# ============================================================================
# 数据配置
# ============================================================================
data:
  data_dir: null
  cache_dir: null
  symbols:
    # 深圳ETF
    - "159801"
    - "159819"
    - "159859"
    - "159883"
    - "159915"
    - "159920"
    - "159928"
    - "159949"
    - "159992"
    - "159995"
    - "159998"
    # 上海ETF
    - "510050"
    - "510300"
    - "510500"
    - "511010"
    - "511260"
    - "511380"
    - "512010"
    - "512100"
    - "512400"
    - "512480"
    - "512660"
    - "512690"
    - "512720"
    - "512800"
    - "512880"
    - "512980"
    - "513100"
    - "513500"
    - "515050"
    - "515220"
    - "515250"
    - "515300"
    - "515450"
    - "515500"
    - "515550"
    - "515650"
    - "515680"
    - "515700"
    - "515790"
    - "515850"
    - "515880"
    - "515950"
    - "516010"
    - "516050"
    - "516090"
    - "516150"
    - "516160"
    - "516200"
    - "516950"
    - "562500"
    - "563000"
    - "588000"
    - "588200"
    - "588800"
    - "588900"

# ============================================================================
# 因子配置
# ============================================================================
factors:
  # 核心因子（13个）
  core_factors:
    - "MOM_20D"
    - "SLOPE_20D"
    - "PRICE_POSITION_20D"
    - "PRICE_POSITION_120D"
    - "RET_VOL_20D"
    - "MAX_DD_60D"
    - "VOL_RATIO_20D"
    - "VOL_RATIO_60D"
    - "PV_CORR_20D"
    - "RSI_14"
    - "OBV_SLOPE_10D"
    - "CMF_20D"
    - "SHARPE_RATIO_20D"
    - "CALMAR_RATIO_60D"
    - "ADX_14D"
    - "VORTEX_14D"
    - "RELATIVE_STRENGTH_VS_MARKET_20D"
    - "CORRELATION_TO_MARKET_20D"

# ============================================================================
# WFO配置 - B方案
# ============================================================================
wfo:
  # 窗口配置
  is_period: 252      # In-Sample窗口长度（交易日）
  oos_period: 60      # Out-of-Sample窗口长度（交易日）
  step_size: 20       # 滑动步长（交易日）
  
  # Ensemble采样配置 - B方案
  n_samples: 1500     # 每窗口采样组合数 - B方案（8因子）
  combo_size: 8        # 每组合因子数 - B方案（8因子）
  top_k: 10           # 集成的最优组合数
  
  # 加权方案
  weighting_scheme: "gradient_decay"  # 梯度衰减
  gradient_decay_rate: 0.5  # 梯度衰减率

# ============================================================================
# 约束配置
# ============================================================================
constraints_config_file: "configs/FACTOR_SELECTION_CONSTRAINTS_B.yaml"

# ============================================================================
# 输出配置
# ============================================================================
output:
  base_dir: "results/ab_test/b"
  save_intermediate: true
  generate_report: true

# ============================================================================
# 日志配置
# ============================================================================
logging:
  level: "INFO"
  format: "%(asctime)s | %(levelname)-8s | %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"
