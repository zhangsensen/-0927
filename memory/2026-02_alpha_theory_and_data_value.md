# Alpha 理论与数据价值框架

> 日期: 2026-02-16
> 类型: 元认知 / 战略框架
> 来源: v5→v8 演进 + Phase 1 研究复盘
> 状态: 这是项目最重要的战略文档之一

---

## 一、核心认知：为什么 v8.0 能赢？

v8.0 的胜出不是因为发现了新因子，而是因为**基础设施修复扩大了有效搜索空间**。

```
v5~v7 的搜索空间:
  23个因子 × "higher=better" 假设 = 只搜索了正向因子组合（约50%的空间）

v8.0 的搜索空间:
  23个因子 × 正确方向处理 = 正向+负向因子组合（100%的空间）

结果:
  composite_1 有 2/5 负向因子 (MARGIN_BUY, SHARE_CHG_5D)
  core_4f 有 2/4 负向因子 (MARGIN_CHG, SHARE_CHG_20D)
  → 这些策略在修复前根本无法被发现
```

**推论**: 基础设施的完整性（搜索空间是否完整）比搜索算法的精妙性（如何在空间内搜索）重要得多。一个方向 bug 的影响是乘法级的——它不是让几个因子变差，而是**切掉了整个维度**。

---

## 二、因子为什么有效？——信息论视角

### 2.1 Alpha 的本质是信息不对称

每个有效因子编码了某种**其他市场参与者尚未充分定价的信息**。关键不是因子本身，而是它背后的信息源：

| 信息源 | 因子 | 编码的信息 | 为什么有效 |
|--------|------|-----------|-----------|
| 价格形态 | BREAKOUT, SLOPE, PP120 | 趋势的存在和强度 | A股ETF动量效应强（PC1 59.8%） |
| 成交量 | OBV_SLOPE, UP_DOWN_VOL | 价格趋势的确认程度 | 量价背离预示反转 |
| 基金份额 | SHARE_CHG_5D/10D/20D, SHARE_ACCEL | 散户资金流向 | 散户的反向指标 |
| 融资融券 | MARGIN_CHG, MARGIN_BUY | 杠杆资金行为 | 杠杆过度 = 见顶信号 |
| 价格统计量 | ADX, SHARPE, CALMAR | 趋势质量 | 过滤噪声趋势 |

### 2.2 两大 Alpha 家族的信息逻辑

**Family A (composite_1)**: 趋势突破 + 逆向资金流

```
信号逻辑:
  价格在突破 (BREAKOUT_20D ↑, PP120 ↑)
  + ADX 确认趋势强度 (ADX_14D ↑)
  + 但散户在卖出 (SHARE_CHG_5D ↓)
  + 杠杆资金冷淡 (MARGIN_BUY ↓)
  = 机构主导的趋势行情（散户还没跟上）

为什么有效:
  机构先知先觉建仓 → 价格突破
  → 散户尚在犹豫/止损（份额流出）
  → 当散户追入时，趋势已被选入并持有
  → Sharpe 高因为入场在趋势早期
```

**Family B (core_4f)**: 持续上升 + 双向流出

```
信号逻辑:
  价格持续上升 (SLOPE_20D ↑, PP120 ↑)
  + 融资余额下降 (MARGIN_CHG ↓)
  + 基金份额减少 (SHARE_CHG_20D ↓)
  = 筹码在集中（弱手退出，强手接住）

为什么有效:
  杠杆资金+散户同时流出但价格不跌
  → 说明有"钻石手"在接盘
  → 绝对收益高 (HO +67%) 因为捕捉了信念坚定的趋势
  → 但 MDD 也高 (14.9%) 因为参与了部分深度回调
```

### 2.3 共同模式: 价格 × 资金流的交叉验证

两个家族的共同点: **都是价格信号与资金流信号的乘积**。

```
Alpha = Price Signal × Flow Signal (逆向)

只看价格: 不知道趋势是机构驱动还是散户跟风
只看资金流: 不知道流出是止损还是获利了结
交叉验证: 价格涨 + 散户/杠杆流出 = 机构主导 = 高质量趋势
```

这解释了为什么:
- 纯 OHLCV 组合只占 Top 200 的 2% — 缺少资金流维度
- Non-OHLCV 因子渗透率 95% — 资金流信号是必要的非充分条件
- Non-OHLCV 因子单独用也不行 — 缺少价格确认

---

## 三、为什么 Phase 1 "没有提升"？——数据饱和理论

### 3.1 Kaiser 维度与信息冗余

```
23个活跃因子 → Kaiser 有效维度 = 5

这意味着:
  17 OHLCV 因子实际上只有 ~3 个独立维度（趋势、波动、量价）
  6 Non-OHLCV 因子增加了 ~2 个独立维度（份额流动、杠杆行为）

Phase 1 尝试重新组合这 5 个维度 → 不可能超越已知最优组合
因为组合空间已经被充分搜索了（100k combos 中保留 top 200）
```

### 3.2 为什么 SHARE_ACCEL 没有提升?

```
SHARE_ACCEL = 份额变化的加速度 = SHARE_CHG 的二阶导数

SHARE_CHG_5D (一阶): IC=-0.101, ICIR=0.450 — 强且稳定
SHARE_ACCEL (二阶): IC=+0.035, ICIR=0.130 — 弱且方向相反

信息论解释:
  SHARE_ACCEL 编码的是"份额流出是否在加速"
  SHARE_CHG_5D 已经编码了"份额在流出"
  加速度是变化量的冗余信息 — 不是新信息源

实证确认:
  SHARE_ACCEL + MARGIN_CHG 搭配的 Rolling 83% > composite_1 的 61%
  → 稳定性来自二阶导数的平滑效应，不是新 alpha
  但 Sharpe 1.12 < 1.38 → 平滑降低了及时性
```

### 3.3 SHARE_CHG_5D >> SHARE_CHG_10D 的本质

```
5D: IC=-0.042 (train), -0.101 (HO), ICIR=0.450, WFO rank #14
10D: WFO rank #6873, -67pp gap

为什么 5D 远优于 10D?
  ETF 市场 FREQ=5（每5天换仓）
  5D 份额变化 = 恰好一个换仓周期的资金流
  10D 包含了上个周期的"旧信息" → 信噪比下降
  → 因子窗口必须匹配执行频率（信号窗口 ≈ 持仓周期）
```

---

## 四、数据价值框架

### 4.1 什么样的数据有价值?

新数据源要在这个系统中产生增量 alpha，需要满足五个条件:

```
条件1: 信息正交性
  → 与现有 5 个 Kaiser 维度线性独立
  → 测试: 新因子与 top-5 PC 的 correlation < 0.3

条件2: 日频可获取
  → FREQ=5 的系统需要日频更新的因子
  → 月频/周频数据需要插值 → 引入平滑偏差

条件3: 截面覆盖率
  → 必须能对 49 个 ETF 产生排名信号（不只是单标的预测）
  → 覆盖率 < 70% 的因子在分位排名中不可靠

条件4: 方向稳定性
  → IC-sign stability ≥ 0.8（跨滚动窗口方向一致）
  → 不稳定的因子加了 ICIR 权重也帮不上（fallback 等权）

条件5: 与执行框架兼容
  → 因子 rank 在 FREQ=5 周期内的稳定性要高
  → 高频震荡因子 + Exp4 hysteresis (delta_rank=0.10, min_hold=9) = 互相矛盾
```

### 4.2 当前信息源评估

```
已充分利用:
  ✅ 价格/成交量 (OHLCV) — Kaiser 3/5, 已饱和
  ✅ 基金份额 (fund_share) — 4因子, 最佳 ICIR=0.450
  ✅ 融资融券 (margin) — 2因子, ICIR=0.350~0.363
  → 共 5 个 Kaiser 维度, 已无组合空间

完全缺失:
  ❌ 投资者结构 (WHO) — 北向/机构/个人持仓比例
  ❌ 预期/前瞻性 — 期权隐含波动率、分析师预期
  ❌ 跨资产关联 — 汇率、商品、利率对 ETF 的影响
  ❌ 微观结构 — IOPV 折溢价、盘口深度、订单流
```

### 4.3 候选数据源的正交性预判

| 数据源 | 编码的信息 | vs 现有因子正交? | 日频? | 49ETF覆盖? | 落地难度 |
|--------|-----------|----------------|-------|------------|---------|
| **北向资金** | 外资配置偏好 | ✅ 高 (不同投资者群体) | ✅ | ⚠️ 需聚合到ETF | 中 |
| **期权IV** | 市场前瞻预期 | ✅ 高 (前瞻 vs 后视) | ✅ | ❌ 仅覆盖 2-3 标的 | 高 |
| **汇率** | 宏观环境 | ✅ 高 (跨资产) | ✅ | ⚠️ QDII直接/A股间接 | 低 |
| **IOPV折溢价** | 套利/情绪 | ✅ 高 (微观结构) | ⚠️ 需盘中采集 | ✅ | 高 |
| **ETF申赎** | 机构行为 | ⚠️ 与fund_share重叠 | ✅ | ✅ | 低 |
| **行业轮动指标** | 宏观板块偏好 | ⚠️ 被PP120+BREAKOUT部分捕获 | ✅ | ✅ | 低 |

---

## 五、关键洞见总结

### 洞见 1: 搜索空间完整性 > 搜索算法优化

v8.0 的胜利证明: **与其在有限空间里找更好的组合，不如确保空间本身是完整的。**
Phase 1 的"无提升"证明: **完整空间内的搜索已经饱和。**
两者合在一起的推论: **下一步 alpha 只能来自扩大空间（新信息源），而非在原空间内优化。**

### 洞见 2: Alpha = Price × Contrarian Flow

两个 alpha 家族都是价格信号 × 逆向资金流的交叉。
这不是巧合，而是因为:
- 价格信号确认趋势存在
- 逆向资金流区分"机构驱动"和"散户跟风"
- 只有前者在 A 股 ETF 市场中持续盈利

**新因子的价值 = 它能否更精准地区分"谁在交易"**

### 洞见 3: 因子窗口 ≈ 执行频率

SHARE_CHG_5D >> SHARE_CHG_10D 不是因为 5D "更好"，而是因为:
- FREQ=5 → 每 5 天决策一次
- 5D 窗口 = 恰好一个决策周期的信息
- 10D = 混入了上个周期的陈旧信息
- **因子窗口与执行频率匹配是必要条件**

### 洞见 4: 二阶导数 ≠ 新信息

SHARE_ACCEL（二阶）编码的信息是 SHARE_CHG（一阶）的衍生，不是独立信息源。
它提升了 Rolling 稳定性（平滑效应）但降低了 Sharpe（延迟效应）。
**真正的新信息必须来自不同的数据源，而非现有数据的数学变换。**

### 洞见 5: 可信的负结论比可疑的正结论更有价值

Phase 1 "无提升"是项目首个在**干净管线**上产生的**可信负结论**。
v7.0 之前的所有"失败"都被管线 bug 污染，不能作为决策依据。
**一个可信的"此路不通"比十个可疑的"可能有效"更能指导资源分配。**

---

## 六、对 Phase 2 的战略指引

基于以上框架，Phase 2 的判断标准不是"能不能拿到数据"，而是:

```
1. 信息是否正交? → 与 Price/Volume/FundShare/Margin 四个维度线性独立?
2. 能否形成截面排名? → 不只是判断一个 ETF 的方向，而是在 49 个中排序
3. 与执行兼容? → 日频更新 + 因子 rank 在 5 天内稳定
4. 编码了"谁在交易"? → 我们最强的 alpha 来源是区分投资者群体
```

**最高优先级**: 北向资金流 — 直接编码"外资在买什么"，与散户/杠杆行为正交，
日频可得，且有学术验证。挑战是从个股聚合到 ETF 层面。

**最快落地**: 汇率因子 — 数据已有，正交性高（跨资产），但不确定对 A 股 ETF 的截面区分度
（汇率是宏观因子，可能只影响 QDII，对 A_SHARE_ONLY 模式效用存疑）。

---

## 相关文件

- `docs/research/phase1_non_ohlcv_optimization_20260216.md` — Phase 1 实验详细结果
- `memory/2026-02_ic_sign_infrastructure_lesson.md` — IC-sign 修复教训
- `memory/factor_reference.md` — 44 因子完整手册
- `memory/rules.md` — 26 条验证规则
