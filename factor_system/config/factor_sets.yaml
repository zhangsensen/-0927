# å› å­é›†é…ç½®æ–‡ä»¶
# å®šä¹‰å¯å¤ç”¨çš„å› å­é›†åˆï¼Œæ”¯æŒç»„åˆå’ŒåŠ¨æ€æ‰©å±•
# æ³¨æ„ï¼šåªåŒ…å«factor_engineä¸­å·²æ³¨å†Œçš„å› å­

factor_sets:
  # åŸºç¡€æŠ€æœ¯æŒ‡æ ‡é›†ï¼ˆå½“å‰å·²æ³¨å†Œï¼‰
  tech_mini:
    - RSI
    - MACD
    - STOCH

  # MACDå®¶æ—ï¼ˆå·²æ³¨å†Œï¼‰
  macd_family:
    - MACD
    - MACD_SIGNAL
    - MACD_HIST

  # æ ¸å¿ƒèµ„é‡‘æµå› å­
  money_flow_core:
    - MainNetInflow_Rate
    - LargeOrder_Ratio
    - SuperLargeOrder_Ratio
    - MainFlow_Momentum
    - Institutional_Absorption
    - Flow_Tier_Ratio_Delta
    - Flow_Reversal_Ratio

  # å¢å¼ºèµ„é‡‘æµå› å­
  money_flow_enhanced:
    - MoneyFlow_Consensus
    - MoneyFlow_Hierarchy
    - OrderConcentration
    - Flow_Price_Divergence

  # å®Œæ•´èµ„é‡‘æµå› å­ï¼ˆæ ¸å¿ƒ+å¢å¼ºï¼‰
  money_flow_all:
    - set: money_flow_core
    - set: money_flow_enhanced

  # æ—¥çº¿ç ”ç©¶é»˜è®¤é›†ï¼ˆç»„åˆï¼‰- åªä½¿ç”¨å·²æ³¨å†Œå› å­
  daily_default_research:
    - set: tech_mini
    - set: money_flow_core

  # ç”Ÿäº§ç¯å¢ƒæ ‡å‡†é›† - æ‰€æœ‰å·²æ³¨å†Œå› å­
  production_standard:
    - set: macd_family
    - set: money_flow_all
    - RSI
    - STOCH

  # å¿«é€Ÿå›æµ‹é›†ï¼ˆè½»é‡ï¼‰
  backtest_fast:
    - RSI
    - MACD
    - MainNetInflow_Rate
    - LargeOrder_Ratio

  # å…¨éƒ¨å› å­ï¼ˆåŠ¨æ€æ‰©å±•åˆ°æ‰€æœ‰å·²æ³¨å†Œå› å­ï¼‰
  all:
    - all_factors

  # ç”Ÿäº§æµ‹è¯•é›† - ä»£è¡¨æ€§å› å­å­é›†ï¼ˆ40ä¸ªï¼‰
  production_test:
    # æŠ€æœ¯æŒ‡æ ‡ (15ä¸ª)
    - RSI
    - RSI7
    - RSI14
    - RSI21
    - MACD
    - MACD_SIGNAL
    - MACD_HIST
    - STOCH
    - WILLR14
    - CCI14
    - ATR14
    - BB_20_2.0_Upper
    - BB_20_2.0_Lower
    - EMA12
    - EMA26

    # æˆäº¤é‡æŒ‡æ ‡ (5ä¸ª)
    - OBV
    - VWAP
    - VolumeRatio5
    - AD
    - MFI

    # ç»Ÿè®¡æŒ‡æ ‡ (5ä¸ª)
    - LinearRegression5
    - LinearRegression10
    - Correlation5
    - Beta5
    - Alpha5

    # ç§»åŠ¨å¹³å‡/é‡å æŒ‡æ ‡ (10ä¸ª)
    - MA5
    - MA10
    - MA20
    - EMA20
    - WMA10
    - DEMA
    - TEMA
    - KAMA
    - SAR
    - MidPoint

    # èµ„é‡‘æµå› å­ (æ ¸å¿ƒ+å¢å¼º, 12ä¸ª)
    - set: money_flow_all

# VectorBTæŠ€æœ¯æŒ‡æ ‡é›†ï¼ˆ154ä¸ªæŒ‡æ ‡ï¼‰
  vbt_moving_averages:
    # ç§»åŠ¨å¹³å‡ç±» (33ä¸ª)
    - MA3, MA5, MA8, MA10, MA12, MA15, MA20, MA25, MA30, MA40, MA50, MA60, MA80, MA100, MA120, MA150, MA200
    - EMA3, EMA5, EMA8, EMA12, EMA15, EMA20, EMA26, EMA30, EMA40, EMA50, EMA60
    - DEMA, TEMA, KAMA, WMA5, WMA10, WMA20, TRIMA

  vbt_momentum:
    # åŠ¨é‡æŒ‡æ ‡ç±» (33ä¸ª)
    - RSI, RSI3, RSI6, RSI9, RSI12, RSI14, RSI18, RSI21, RSI25, RSI30
    - MACD, MACD_SIGNAL, MACD_HIST
    - STOCH
    - WILLR, WILLR14
    - CCI, CCI14
    - Momentum1, Momentum3, Momentum5, Momentum8, Momentum10, Momentum12, Momentum15, Momentum20
    - Position5, Position8, Position10, Position12, Position15, Position20, Position25, Position30
    - Trend5, Trend8, Trend10, Trend12, Trend15, Trend20, Trend25

  vbt_volatility:
    # æ³¢åŠ¨ç‡æŒ‡æ ‡ç±» (10ä¸ª)
    - ATR, ATR7, ATR10, ATR14, ATR20
    - MSTD5, MSTD10, MSTD15, MSTD20
    - FSTD5, FSTD10, FSTD15, FSTD20

  vbt_volume:
    # æˆäº¤é‡æŒ‡æ ‡ç±» (25ä¸ª)
    - OBV
    - OBV_SMA_5, OBV_SMA_10, OBV_SMA_15, OBV_SMA_20
    - VWAP5, VWAP10, VWAP15, VWAP20, VWAP25, VWAP30
    - Volume_Ratio10, Volume_Ratio15, Volume_Ratio20, Volume_Ratio25, Volume_Ratio30
    - Volume_Momentum10, Volume_Momentum15, Volume_Momentum20, Volume_Momentum25, Volume_Momentum30

  vbt_overlap:
    # é‡å æŒ‡æ ‡ç±» (å¸ƒæ—å¸¦ç­‰ï¼Œ15ä¸ª)
    - BBANDS
    - BB_10_2.0_Upper, BB_10_2.0_Middle, BB_10_2.0_Lower, BB_10_2.0_Width
    - BB_15_2.0_Upper, BB_15_2.0_Middle, BB_15_2.0_Lower, BB_15_2.0_Width
    - BB_20_2.0_Upper, BB_20_2.0_Middle, BB_20_2.0_Lower, BB_20_2.0_Width
    - BOLB_20

  # å®Œæ•´VectorBTæŒ‡æ ‡é›†ï¼ˆ154ä¸ªï¼‰
  vbt_all:
    - set: vbt_moving_averages
    - set: vbt_momentum
    - set: vbt_volatility
    - set: vbt_volume
    - set: vbt_overlap

  # æ ¸å¿ƒæŠ€æœ¯æŒ‡æ ‡é›†ï¼ˆç²¾é€‰20ä¸ªæœ€å¸¸ç”¨çš„ï¼‰
  vbt_core:
    - RSI, RSI14
    - MACD, MACD_SIGNAL, MACD_HIST
    - STOCH
    - WILLR14
    - CCI14
    - ATR14
    - MA5, MA10, MA20
    - EMA12, EMA26
    - OBV
    - VWAP20
    - BB_20_2.0_Upper, BB_20_2.0_Lower

# é…ç½®è¯´æ˜ï¼š
# 1. ä½¿ç”¨ "- set: <name>" å¼•ç”¨å…¶ä»–å› å­é›†
# 2. ä½¿ç”¨ "all_factors" å…³é”®å­—åŠ¨æ€æ‰©å±•åˆ°æ‰€æœ‰å·²æ³¨å†Œå› å­
# 3. å› å­IDä¼šè‡ªåŠ¨å»é‡
# 4. è§£æé¡ºåºï¼šé€’å½’å±•å¼€ -> å»é‡ -> æ’åº
#
# âœ… é‡å¤§æ›´æ–°ï¼šå®Œæ•´é›†æˆVectorBTçš„154ä¸ªæŠ€æœ¯æŒ‡æ ‡ï¼
# - VectorBTæŠ€æœ¯æŒ‡æ ‡: 154ä¸ª (ç§»åŠ¨å¹³å‡ã€åŠ¨é‡ã€æ³¢åŠ¨ç‡ã€æˆäº¤é‡ã€é‡å æŒ‡æ ‡)
# - åŸæœ‰å› å­: 263ä¸ª (æŠ€æœ¯ã€æˆäº¤é‡ã€ç»Ÿè®¡ã€é‡å ã€èµ„é‡‘æµ)
# - æ€»è®¡: 417ä¸ªå› å­ (åŒ…å«é‡å¤çš„ï¼Œå®é™…å»é‡åçº¦350ä¸ª)
#
# ğŸ”¥ ä½¿ç”¨ç¤ºä¾‹ï¼š
# python scripts/production_run.py --set vbt_core          # 20ä¸ªæ ¸å¿ƒæŠ€æœ¯æŒ‡æ ‡
# python scripts/production_run.py --set vbt_moving_averages # 33ä¸ªç§»åŠ¨å¹³å‡æŒ‡æ ‡
# python scripts/production_run.py --set vbt_all            # 154ä¸ªVectorBTæŒ‡æ ‡
# python scripts/production_run.py --set all                # æ‰€æœ‰350+ä¸ªå› å­
