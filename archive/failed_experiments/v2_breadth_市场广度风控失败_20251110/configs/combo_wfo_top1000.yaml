# 组合级WFO配置（Top1000 快速验证版）
# 基于 configs/combo_wfo_config.yaml 精简，仅将 top_n 提升到 1000；
# 其余参数保持稳定基线，便于与历史结果对比。

run_id: COMBO_WFO_TOP1000_QUICK

output_root: results_combo_wfo

data:
  data_dir: null
  cache_dir: null
  start_date: '2020-01-01'
  end_date: '2025-10-14'
  symbols:
    - '159801'
    - '159819'
    - '159859'
    - '159883'
    - '159915'
    - '159920'
    - '159928'
    - '159949'
    - '159992'
    - '159995'
    - '159998'
    - '510050'
    - '510300'
    - '510500'
    - '511010'
    - '511260'
    - '511380'
    - '512010'
    - '512100'
    - '512400'
    - '512480'
    - '512660'
    - '512690'
    - '512720'
    - '512800'
    - '512880'
    - '512980'
    - '513050'
    - '513100'
    - '513130'
    - '513500'
    - '515030'
    - '515180'
    - '515210'
    - '515650'
    - '515790'
    - '516090'
    - '516160'
    - '516520'
    - '518850'
    - '518880'
    - '588000'
    - '588200'

cross_section:
  winsorize_lower: 0.025
  winsorize_upper: 0.975
  bounded_factors:
    - PRICE_POSITION_20D
    - PRICE_POSITION_120D
    - PV_CORR_20D
    - RSI_14

combo_wfo:
  combo_sizes: [2, 3, 4, 5]
  is_period: 252
  oos_period: 60
  step_size: 60
  rebalance_frequencies: [8]
  n_jobs: -1
  verbose: true
  enable_fdr: true
  fdr_alpha: 0.05
  fdr_method: fdr_bh
  scoring:
    complexity_penalty_lambda: 0.15
    use_robust_scoring: true
  save_all_results: true
  top_n: 1000

backtest:
  commission_rate: 0.00005
  initial_capital: 1000000
  lookback_window: 252
  rebalance_frequency: 21d
  max_workers: 8
  test_all_frequencies: false
  test_all_position_sizes: false
  position_size_range: [1,2,3,4,5,6,7,8,9,10]
