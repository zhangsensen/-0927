# ============================================================================
# ETF轮动系统 - 默认配置（精简版）
# ============================================================================
# 用途: 驱动 run_final_production.py 的数据 → 因子 → WFO 流程
# ============================================================================

run_id: "ETF_ROTATION_DEFAULT"

# ----------------------------------------------------------------------------
# 数据配置
# ----------------------------------------------------------------------------
data:
  # 数据目录（可选，默认为项目根目录/raw/ETF/daily）
  data_dir: null  # 设置为 null 使用默认路径，或指定绝对路径

  # 缓存目录（可选，默认为项目根目录/.cache）
  cache_dir: null

  # ETF 代码列表（深圳 19 只 + 上海 24 只 = 43 只）
  symbols:
    # 深圳 ETF
    - "159801"
    - "159819"
    - "159859"
    - "159883"
    - "159915"
    - "159920"
    - "159928"
    - "159949"
    - "159992"
    - "159995"
    - "159998"
    # 上海 ETF
    - "510050"
    - "510300"
    - "510500"
    - "511010"
    - "511260"
    - "511380"
    - "512010"
    - "512100"
    - "512400"
    - "512480"
    - "512660"
    - "512690"
    - "512720"
    - "512800"
    - "512880"
    - "512980"
    - "513050"
    - "513100"
    - "513130"
    - "513500"
    - "515030"
    - "515180"
    - "515210"
    - "515650"
    - "515790"
    - "516090"
    - "516160"
    - "516520"
    - "518850"
    - "518880"
    - "588000"
    - "588200"

  start_date: "2020-01-01"
  end_date: "2025-10-14"

# ----------------------------------------------------------------------------
# 横截面加工配置
# ----------------------------------------------------------------------------
cross_section:
  # Winsorize 极值截断分位数
  winsorize_lower: 0.025  # 2.5%
  winsorize_upper: 0.975  # 97.5%

  # 有界因子（跳过极值截断）
  bounded_factors:
    - "PRICE_POSITION_20D"
    - "PRICE_POSITION_120D"
    - "PV_CORR_20D"
    - "RSI_14"

# ----------------------------------------------------------------------------
# WFO 配置 - 直接因子级加权方案
# ----------------------------------------------------------------------------
wfo:
  # 窗口配置
  is_period: 252      # In-Sample 窗口长度（交易日）
  oos_period: 60      # Out-of-Sample 窗口长度（交易日）
  step_size: 20       # 滑动步长（交易日）
  warmup: 0           # 可选预热天数（若因子需要更长历史）

  # 因子权重
  factor_weighting: "ic_weighted"
  min_factor_ic: 0.012
  ic_floor: 0.0

# ----------------------------------------------------------------------------
# 输出配置
# ----------------------------------------------------------------------------
output_root: "results"
