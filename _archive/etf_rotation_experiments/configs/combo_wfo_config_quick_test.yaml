# WFO快速测试配置 - 用于验证清理后项目可运行性
# 时间: ~5-10分钟

backtest:
  commission_rate: 0.000005
  initial_capital: 1000000
  lookback_window: 252
  rebalance_frequency: 21d
  max_workers: 4
  test_all_frequencies: false
  test_all_position_sizes: false
  position_size_range: [4]  # 只测试4个持仓

combo_wfo:
  combo_sizes: [2, 3]  # 只测试2-3因子组合（减少计算量）
  enable_fdr: true
  fdr_alpha: 0.05
  fdr_method: fdr_bh
  is_period: 126  # 半年样本内（快速测试）
  n_jobs: 4
  oos_period: 30  # 一个月样本外
  rebalance_frequencies: [8]
  save_all_results: true
  scoring:
    complexity_penalty_lambda: 0.15
    use_robust_scoring: true
  
  # 限制组合数量以加速测试
  max_combos_per_size: 100  # 每个size最多生成100个组合
  
data:
  start_date: "2023-01-01"  # 只用最近2年数据快速测试
  end_date: "2025-10-14"
  data_dir: null  # 使用默认路径 raw/ETF/daily
  cache_dir: null
  symbols:  # 使用所有43只ETF
    - '159801'
    - '159819'
    - '159859'
    - '159883'
    - '159915'
    - '159919'
    - '159928'
    - '159949'
    - '159981'
    - '159985'
    - '159992'
    - '159995'
    - '159996'
    - '159997'
    - '159998'
    - '510050'
    - '510300'
    - '510330'
    - '510500'
    - '510880'
    - '510900'
    - '512010'
    - '512100'
    - '512170'
    - '512200'
    - '512290'
    - '512480'
    - '512690'
    - '512760'
    - '512800'
    - '512880'
    - '512980'
    - '512990'
    - '513050'
    - '513100'
    - '513500'
    - '515000'
    - '515050'
    - '515220'
    - '516160'
    - '518880'
    - '560050'
    - '588000'
  
ranking:
  top_n: 500  # 只保存Top500
  method: "ic_weighted"
