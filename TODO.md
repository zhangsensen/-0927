# 📋 下一步 TODO

**更新日期**: 2025-10-15  
**优先级**: 🔴 高 | 🟡 中 | 🟢 低

---

## 🔧 工程优化

### 🔴 高优先级

- [ ] **参数文件化**
  - 创建 `configs/pipeline_params.yaml`
  - 集中管理 CI 阈值、资金约束、调仓频率
  - 支持命令行覆盖配置
  - **预期收益**: 配置统一，减少硬编码

- [ ] **测试最小集**
  - 回测指标解析单测（`test_backtest_metrics_parser.py`）
  - 容量 ADV 解析单测（`test_capacity_adv_parser.py`）
  - CI 检查单测（`test_ci_checks.py`）
  - **预期收益**: 回归测试，防止破坏性变更

- [ ] **性能基线**
  - 面板计算时间基线脚本（`scripts/benchmark_panel_generation.py`）
  - 内存使用基线脚本（`scripts/benchmark_memory_usage.py`）
  - 建立性能监控指标
  - **预期收益**: 性能回归检测，优化瓶颈

### 🟡 中优先级

- [ ] **日志结构化**
  - 统一日志格式（JSON Lines）
  - 增加 trace_id 追踪
  - 集成 ELK 或 Loki（可选）
  - **预期收益**: 日志可查询，问题定位快

- [ ] **容量检查增强**
  - 从回测结果自动解析真实持仓（已部分实现）
  - 支持多期持仓分析
  - 生成容量趋势报告
  - **预期收益**: 容量约束更准确

- [ ] **CI 检查增强**
  - 支持分池差异化阈值
  - 增加因子 IC 检查
  - 增加因子稳定性检查
  - **预期收益**: CI 更严格，质量更高

### 🟢 低优先级

- [ ] **Web 仪表板**
  - 实时监控面板质量
  - 回测指标可视化
  - 容量报告可视化
  - **预期收益**: 运维体验提升

- [ ] **自动化报告**
  - 每日邮件报告
  - 周度总结报告
  - 月度绩效报告
  - **预期收益**: 自动化运维

---

## 📊 策略优化

### 🔴 高优先级

- [ ] **因子筛选与权重**
  - 生成推荐 `production_factors.txt`
  - 因子权重优化（IC 加权、等权、风险平价）
  - 因子相关性分析
  - **预期收益**: 因子质量提升，策略收益提升

- [ ] **Walk-Forward 稳健性评估**
  - 滚动窗口回测（6 个月训练，1 个月测试）
  - 参数稳定性分析
  - 样本外表现评估
  - **预期收益**: 策略稳健性验证，避免过拟合

### 🟡 中优先级

- [ ] **多策略组合**
  - 动量策略
  - 均值回归策略
  - 波动率策略
  - 策略权重优化
  - **预期收益**: 策略多样化，降低风险

- [ ] **风险管理**
  - 动态止损
  - 波动率目标
  - 最大回撤控制
  - **预期收益**: 风险可控，回撤降低

- [ ] **成本优化**
  - 交易成本建模
  - 滑点建模
  - 冲击成本建模
  - **预期收益**: 成本更准确，策略更真实

### 🟢 低优先级

- [ ] **因子挖掘**
  - 基本面因子
  - 情绪因子
  - 另类数据因子
  - **预期收益**: 因子池扩充

- [ ] **机器学习**
  - 因子选择（LASSO, Random Forest）
  - 收益预测（XGBoost, LightGBM）
  - 强化学习（DQN, PPO）
  - **预期收益**: 策略智能化

---

## 🔄 运维优化

### 🔴 高优先级

- [ ] **监控告警**
  - 面板质量告警（覆盖率 < 80%）
  - 回测指标告警（年化 < 8%）
  - 容量约束告警（ADV% > 5%）
  - **预期收益**: 问题及时发现

- [ ] **自动化部署**
  - CI/CD 流水线
  - 自动化测试
  - 自动化部署
  - **预期收益**: 部署效率提升

### 🟡 中优先级

- [ ] **数据质量监控**
  - 数据缺失监控
  - 数据异常监控
  - 数据延迟监控
  - **预期收益**: 数据质量保障

- [ ] **性能监控**
  - 计算时间监控
  - 内存使用监控
  - 磁盘使用监控
  - **预期收益**: 性能瓶颈发现

### 🟢 低优先级

- [ ] **容灾备份**
  - 数据备份
  - 配置备份
  - 快照备份
  - **预期收益**: 数据安全

- [ ] **文档完善**
  - API 文档
  - 架构文档
  - 运维手册
  - **预期收益**: 知识沉淀

---

## 📅 时间规划

### Q4 2025（10-12月）

**工程优化**:
- ✅ 代码清理与结构化（已完成）
- [ ] 参数文件化
- [ ] 测试最小集
- [ ] 性能基线

**策略优化**:
- [ ] 因子筛选与权重
- [ ] Walk-Forward 稳健性评估

**运维优化**:
- [ ] 监控告警
- [ ] 自动化部署

### Q1 2026（1-3月）

**工程优化**:
- [ ] 日志结构化
- [ ] 容量检查增强
- [ ] CI 检查增强

**策略优化**:
- [ ] 多策略组合
- [ ] 风险管理
- [ ] 成本优化

**运维优化**:
- [ ] 数据质量监控
- [ ] 性能监控

### Q2 2026（4-6月）

**策略优化**:
- [ ] 因子挖掘
- [ ] 机器学习

**运维优化**:
- [ ] Web 仪表板
- [ ] 自动化报告
- [ ] 容灾备份
- [ ] 文档完善

---

## 🎯 关键里程碑

| 里程碑 | 目标 | 预期完成 | 状态 |
|--------|------|----------|------|
| **v1.2.0** | 代码清理与结构化 | 2025-10-15 | ✅ |
| **v1.3.0** | 参数文件化 + 测试最小集 | 2025-11-15 | 🔄 |
| **v1.4.0** | 因子筛选 + Walk-Forward | 2025-12-15 | 📅 |
| **v2.0.0** | 多策略组合 + 风险管理 | 2026-03-15 | 📅 |
| **v2.1.0** | 监控告警 + 自动化部署 | 2026-06-15 | 📅 |

---

## 📝 备注

- 优先级可根据实际需求调整
- 时间规划为参考，可根据进度调整
- 每个 TODO 完成后，移动到 CHANGELOG.md

---

**🪓 遵循 Linus 哲学：解决真问题，不造概念**
