{
  "summary": {
    "total_validations": 4,
    "passed_validations": 3,
    "failed_validations": 1,
    "success_rate": 0.75,
    "overall_success": false
  },
  "validation_results": [
    {
      "success": false,
      "message": "硬编码值提取: 26/29 已提取",
      "total_hardcoded": 29,
      "extracted_count": 26,
      "missing_count": 3,
      "extraction_rate": 0.896551724137931,
      "extracted_numbers": [
        [
          "60",
          50,
          "'volatility_windows': [20, 60, 120],"
        ],
        [
          "252",
          136,
          "mom_long = s_close / s_close.shift(252) - 1"
        ],
        [
          "20",
          236,
          "amount_ma20 = s_amount.rolling(20, min_periods=1).mean()"
        ],
        [
          "63",
          135,
          "mom_short = s_close / s_close.shift(63) - 1"
        ],
        [
          "20",
          53,
          "'volume_ratio_windows': [20, 60]"
        ],
        [
          "20",
          52,
          "'price_position_windows': [20, 60, 120],"
        ],
        [
          "20",
          211,
          "vol_std = s_vol.rolling(20, min_periods=1).std()"
        ],
        [
          "14",
          51,
          "'rsi_windows': [6, 14, 24],"
        ],
        [
          "63",
          49,
          "'momentum_periods': [20, 63, 126, 252],"
        ],
        [
          "20",
          50,
          "'volatility_windows': [20, 60, 120],"
        ]
      ],
      "missing_numbers": [
        [
          "80",
          374,
          "logger.info(\"=\"*80)"
        ],
        [
          "80",
          376,
          "logger.info(\"=\"*80)"
        ],
        [
          "100",
          145,
          "rsi = 100 - (100 / (1 + rs))"
        ]
      ],
      "validation_name": "硬编码值提取完整性"
    },
    {
      "success": true,
      "message": "因子参数验证: 20/20 有效",
      "validation_results": [
        {
          "category": "factor_windows",
          "parameter": "momentum_windows",
          "value": [
            20,
            63,
            126,
            252
          ],
          "valid": true
        },
        {
          "category": "factor_windows",
          "parameter": "volatility_windows",
          "value": [
            20,
            60,
            120
          ],
          "valid": true
        },
        {
          "category": "factor_windows",
          "parameter": "drawdown_windows",
          "value": [
            63,
            126
          ],
          "valid": true
        },
        {
          "category": "factor_windows",
          "parameter": "rsi_windows",
          "value": [
            6,
            14,
            24
          ],
          "valid": true
        },
        {
          "category": "factor_windows",
          "parameter": "price_position_windows",
          "value": [
            20,
            60,
            120
          ],
          "valid": true
        },
        {
          "category": "factor_windows",
          "parameter": "volume_ratio_windows",
          "value": [
            5,
            20,
            60
          ],
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "atr_period",
          "value": 14,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "vpt_trend_window",
          "value": 20,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "vol_volatility_window",
          "value": 20,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "amount_surge_short",
          "value": 5,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "amount_surge_long",
          "value": 20,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "vol_ratio_window",
          "value": 20,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "intraday_position_window",
          "value": 5,
          "valid": true
        },
        {
          "category": "technical_indicators",
          "parameter": "price_volume_div_window",
          "value": 5,
          "valid": true
        },
        {
          "category": "trading",
          "parameter": "days_per_year",
          "value": 252,
          "valid": true
        },
        {
          "category": "trading",
          "parameter": "epsilon_small",
          "value": 1e-10,
          "valid": true
        },
        {
          "category": "trading",
          "parameter": "min_periods",
          "value": 1,
          "valid": true
        },
        {
          "category": "thresholds",
          "parameter": "large_order_volume_ratio",
          "value": 1.2,
          "valid": true
        },
        {
          "category": "thresholds",
          "parameter": "hammer_lower_shadow_ratio",
          "value": 2.0,
          "valid": true
        },
        {
          "category": "thresholds",
          "parameter": "hammer_upper_shadow_ratio",
          "value": 1.0,
          "valid": true
        }
      ],
      "validity_rate": 1.0,
      "all_params": {
        "factor_windows": {
          "momentum_windows": [
            20,
            63,
            126,
            252
          ],
          "volatility_windows": [
            20,
            60,
            120
          ],
          "drawdown_windows": [
            63,
            126
          ],
          "rsi_windows": [
            6,
            14,
            24
          ],
          "price_position_windows": [
            20,
            60,
            120
          ],
          "volume_ratio_windows": [
            5,
            20,
            60
          ]
        },
        "technical_indicators": {
          "atr_period": 14,
          "vpt_trend_window": 20,
          "vol_volatility_window": 20,
          "amount_surge_short": 5,
          "amount_surge_long": 20,
          "vol_ratio_window": 20,
          "intraday_position_window": 5,
          "price_volume_div_window": 5
        },
        "trading": {
          "days_per_year": 252,
          "epsilon_small": 1e-10,
          "min_periods": 1
        },
        "thresholds": {
          "large_order_volume_ratio": 1.2,
          "hammer_lower_shadow_ratio": 2.0,
          "hammer_upper_shadow_ratio": 1.0
        }
      },
      "validation_name": "因子参数提取验证"
    },
    {
      "success": true,
      "message": "因子开关检查: 24 启用, 0 禁用",
      "total_factors": 24,
      "enabled_factors": [
        "momentum",
        "volatility",
        "drawdown",
        "momentum_acceleration",
        "rsi",
        "price_position",
        "volume_ratio",
        "overnight_return",
        "atr",
        "doji_pattern",
        "intraday_range",
        "bullish_engulfing",
        "hammer_pattern",
        "price_impact",
        "volume_price_trend",
        "vol_ma_ratio_5",
        "vol_volatility_20",
        "true_range",
        "buy_pressure",
        "vwap_deviation",
        "amount_surge_5d",
        "price_volume_div",
        "intraday_position",
        "large_order_signal"
      ],
      "disabled_factors": [],
      "factor_switches": {
        "momentum": true,
        "volatility": true,
        "drawdown": true,
        "momentum_acceleration": true,
        "rsi": true,
        "price_position": true,
        "volume_ratio": true,
        "overnight_return": true,
        "atr": true,
        "doji_pattern": true,
        "intraday_range": true,
        "bullish_engulfing": true,
        "hammer_pattern": true,
        "price_impact": true,
        "volume_price_trend": true,
        "vol_ma_ratio_5": true,
        "vol_volatility_20": true,
        "true_range": true,
        "buy_pressure": true,
        "vwap_deviation": true,
        "amount_surge_5d": true,
        "price_volume_div": true,
        "intraday_position": true,
        "large_order_signal": true
      },
      "validation_name": "因子开关完整性"
    },
    {
      "success": true,
      "message": "路径配置验证: 3/3 有效",
      "path_validation": [
        {
          "path_name": "data_dir",
          "path_value": "raw/ETF/daily",
          "valid": true
        },
        {
          "path_name": "output_dir",
          "path_value": "etf_rotation_system/data/results/panels",
          "valid": true
        },
        {
          "path_name": "config_file",
          "path_value": "config/etf_config.yaml",
          "valid": true
        }
      ],
      "path_configs": {
        "data_dir": "raw/ETF/daily",
        "output_dir": "etf_rotation_system/data/results/panels",
        "config_file": "config/etf_config.yaml"
      },
      "validation_name": "路径配置验证"
    }
  ],
  "recommendations": [
    "🔧 修复 硬编码值提取完整性: 硬编码值提取: 26/29 已提取"
  ]
}